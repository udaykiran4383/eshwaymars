<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MRT-IITB</title>
        <link rel="icon" type="image/x-icon" href="../src/img/logo_mrt.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        <link rel="stylesheet" href="../src/css/styles.css">
        <link rel="stylesheet" href="../src/css/elec.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"> -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    </head>

    <body>
        <nav id="transparent-navbar" class="navbar navbar-expand-lg red-hat-font">
            <a class="navbar-brand" href="index.html">
                <img src="../src/img/logo_mrt.png" width="75px">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <div class="hamburger-animated"><span></span><span></span><span></span></div>
            </button>
    
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item animate-this">
                        <a class="nav-link" href="../index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../rovers.html">Rovers</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                            href="#">Subdivisions</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="./mech.html">Mechanical</a></li>
                            <li><a class="dropdown-item" href="./elec.html">Electronics & Software</a></li>
                            <li><a class="dropdown-item" href="./bio.html">Bioscience</a></li>
                            <li><a class="dropdown-item" href="./mdm.html">Design and Logistics</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                            href="#">Teams</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="../team2023.html">Current Team</a></li>
                            <li><a class="dropdown-item" href="../alumni.html">Alumni</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../comp.html">Competitions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../contact-us.html">Contact</a>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- <div class="empty-div"></div> -->
        <section id="parent">
        <section class="sub-nav" >
            <h1>Electronics and Software Subsystem</h1>
            <div class="nav-items">
                <div class="item">
                    <i class="fa fa-gear fa-spin" style="font-size:48px"></i>
                    <a href="#arm"><h3 >Controls</h3></a>
                </div>
                <div class="item">
                    <i class="fa fa-gear fa-spin" style="font-size:48px"></i>
                    <a href="#suspension"><h3>Autonomous</h3></a>
                </div>
                <div class="item">
                    <i class="fa fa-gear fa-spin" style="font-size:48px"></i>
                    <a href="#bio"><h3> GUI</h3></a>
                </div>
                <div class="item">
                    <i class="fa fa-gear fa-spin" style="font-size:48px"></i>
                    <a href="#chassis"><h3>Wireless</h3></a>
                </div>
                <div class="item">
                    <i class="fa fa-gear fa-spin" style="font-size:48px"></i>
                    <a href="#wheels"><h3>Power Distribution and BMS</h3></a>
                </div>
            </div>
        </section>
        
            <section class="sub-nav-section" id="arm">
                <div class="content">
                    <img src="../src/img/elec_1.png" alt="">
                    <div class="info">
                        <h2>Controls</h2>
                        All 6 wheels are driven independently from GPIO pins of Raspberry Pi 3 in open loop, 4 steering wheels (Front and Rear) are steered using closed loop control . <br>
Steering is controlled by Roboclaw Motor Drivers onto which we employ a Type II control system, to track ramp input , while drive is controlled by Hercules motor Drivers. <br>
We are working towards getting a state space description of the same, so that we can employ Inverse Kinematics or LQR control for the arm, using Moveit! motion planning plugin . <br>
                    </div>
                </div>
            </section>
            <section class="sub-nav-section " id="suspension">
                <div class="content even">
                    
                    <div class="info">
                        <h2>Autonomous</h2>
                        Surrounding mapping is done using SLAM; requires a high-power LIDAR for visualising the map. <br>
The whole system is up and running on Gazebo in a simulated environment and the algorithm is being improved for better performance. (video on right). <br>
We are working to employ the algorithm on our smaller prototype of the rover first, and then later shift to main rover. <br>
                    </div>
                    <img src="../src/img/GUI1.png" alt="">
                </div>
            </section>
            <section class="sub-nav-section" id="bio">
                <div class="content">
                    <img src="../src/img/GUI2.png" alt="">
                    <div class="info">
                        <h2>GUI</h2>
URDF Visualisation: As a first step towards automating the system, an URDF of rover (pic on left) was made, which helps us translate what rover is doing on field onto the GUI and autonomous node. <br>
Plotting GPS data from APM module (pic on left): GPS lat long received from APM using mavros library is mapped onto RViZ aerialmapdisplay plugin using QT gui. <br>
IP Camera interfacing with GUI: RTSP stream of IP camera is obtained using opencv and using ROS-OpenCV bridge, stream is converted to image message. The GUI widget ‘Image View’, is used to visualise the message. <br>
                    </div>
                </div>
            </section>
            <section class="sub-nav-section" id="chassis">
                <div class="content even">
                    
                    <div class="info">
                        <h2>Wireless</h2>
                        We are using commercial off-the-shelf PoE wireless bridges which operate in 5.6 GHz band , and have maximum EIRP of 36 dBm, compliant with FCC UNII-1 regulations. <br>
These have been tested to give 1 km non-LOS range, and use adaptive channel selection techniques  to shift to a different channel once the current channel starts degrading, to tolerate interference. <br>
Video feed is obtained via IP cameras on board and telemetry is achieved by passing messages between ROS nodes. <br>
                    </div>
                    <img src="../src/img/ruckus.png" alt="">
                </div>
            </section>
            <section class="sub-nav-section" id="wheels">
                <div class="content">
                    <img src="../src/img/control3.png" alt="">
                    <div class="info">
                        <h2>Power</h2>
                        The entire rover will be powered by a 24 Volt custom battery pack consisting 3.7 Volts lipo cells. <br>
24V - 12V and 24V - 5V DC-DC buck converters are used on a custom made PCB to distribute power for every components. <br>
A Capacitor bank is used on the PCB to compensate for the effect of back EMF generated from the motors and actuators. <br>
We are designing a Battery Management System for cell balancing and monitor the health of lipo cells during charging and discharging. <br>
                    </div>
                </div>
            </section>
        </section>
        
        <div class="loader-wrapper">
            <span class="loader"><span class="loader-inner"></span></span>
        </div>

        <!-- <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <script src="../src/js/script.js"></script>
        <script type="text/javascript">

            // window.addEventListener('scroll',reveal);

            // function reveal(){
            //     var reveals = document.querySelectorAll('.content')

            //     for (var i = 0; i< reveals.length;i++){
            //         var windowheight = window.innerHeight;
            //         var revealtop = reveals[i].getBoundingClientRect().top;
            //         var revealpoint = 150;

            //         if(revealtop < windowheight - revealpoint){
            //             reveals[i].classList.add('current');

            //         }
            //         else{
            //             reveals[i].classList.remove('current');
            //         }
            //     }
            // }
            const observer = new IntersectionObserver((entries)=>{
                entries.forEach((entry)=>{
                    console.log(entry)
                    if (entry.isIntersecting){
                        entry.target.classList.add('current');
                    }
                    else{
                        entry.target.classList.remove('current');
                    }
                });
            });

            const hiddenElements = document.querySelectorAll('.content')
            hiddenElements.forEach((el) =>observer.observe(el));
        </script>
    </body>
</html>